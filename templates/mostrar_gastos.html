{% extends "prototipo.html" %}

{% block content %}
<button class="btn btn-primary" onclick="printDiv('gastos','gastos')"><i class="fas fa-solid fa-print"></i>Imprimir</button>
<div id="gastos">
<center>
<h1 style="color:blue">Gastos</h1>
</center>
<div class="row ml-4" >
    


<div class="col-xl-3 col-md-6 mb-4 tarjeta-cia" >
    <div class="card border-left-success shadow h-100 py-2 tarjeta-cia">
        <div class="card-body">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                        Total Gastos</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{gastos_total}} $</div>
                </div>
                <div class="col-auto">
                    
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-xl-3 col-md-6 mb-4 tarjeta-cia" >
    <div class="card border-left-info shadow h-100 py-2 tarjeta-cia">
        <div class="card-body">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                        gastos mh2018</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{suma_gastos_mh}} $</div>
                </div>
                <div class="col-auto">
                    
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-xl-3 col-md-6 mb-4 tarjeta-cia" >
    <div class="card border-left-info shadow h-100 py-2 tarjeta-cia">
        <div class="card-body">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                        gastos proaba</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{suma_gastos_proaba}} $</div>
                </div>
                <div class="col-auto">
                    
                </div>
            </div>
        </div>
    </div>
</div>


</div>
 <table class="table table-striped table-hover table-bordered bg-white table-sm ml-4" class="wrapper-table" class="jumbotron">
                    <thead>
                    
                      <tr class="table-primary " style="white-space: nowrap !important;">

                        <td  style="text-align: center;" valign="middle"><h5 >FECHA</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >FACTURA</h5></td>  
                        <td  style="text-align: center;" valign="middle"><h5 >NOMBRE</h5></td>  
                        <td  style="text-align: center;" valign="middle"><h5 >DESCRIPCION</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >BOLIVARES</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >TASA</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >BANCO</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >REFERENCIA</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >PAGADO POR</h5></td>
                        <td  style="text-align: center;" valign="middle"><h5 >MONTO $</h5></td>  
                         
                       <!-- <td style="text-align: center;">Operacion</td>-->
                      </tr>
                    </thead>
                    
                    {% for table in gastos %}
                    <tr style="white-space: nowrap !important;">
                       

                            
                            <td  style="text-align: center;" >{{table.6}}</font></td>
                            <td  style="text-align: center;" >{{table.1}}</font></td>
                            <td  style="text-align: center;" >{{table.7}}</font></td>
                            <td  style="text-align: center;" >{{table.2}}</font></td>
                            <td  style="text-align: center;" >{{table.8}}</font></td>
                            <td  style="text-align: center;" >{{table.9}}</font></td>
                            <td  style="text-align: center;" >{{table.10}}</font></td>
                            <td  style="text-align: center;" >{{table.11}}</font></td>
                            <td  style="text-align: center;" >{{table.12}}</font></td>
                            <td  style="text-align: center;" >{{table.3}}</font></td>
                              
                        
                            <div class="row-md-7">    
                      
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                    

                </table>


            </div>
<script>
    
    
    var doc = new jsPDF();

function saveDiv(divId, title) {
 doc.fromHTML(`<html><head><title>${title}</title></head><body>` + document.getElementById(divId).innerHTML + `</body></html>`);
 doc.save('div.pdf');
}

function printDiv(divId,
  title) {

  let mywindow = window.open('', 'PRINT', 'height=650,width=900,top=100,left=150');

  mywindow.document.write(`<html><head><title>${title}</title>`);
  mywindow.document.write('</head><body >'+`<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">`);
 //mywindow.document.write(`<link rel="stylesheet" type="text/css" href="../static/css/main.css" media="all" media="print">`);
  mywindow.document.write(document.getElementById(divId).innerHTML);
  mywindow.document.write('</body></html>');

  mywindow.document.close(); // necessary for IE >= 10
  mywindow.focus(); // necessary for IE >= 10*/

  mywindow.print();
  mywindow.close();

  return true;
} 
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
{% endblock%}