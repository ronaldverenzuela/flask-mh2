{% extends "prototipo.html" %}

{% block content %}
<!--<script src="{{url_for('static', filename='js/prueba.js')}}"></script>-->
<!--<script src="{{url_for('static', filename='js/datosgrafico.json')}}"></script>-->
<!--<script src="{{url_for('static', filename='js/texto.txt')}}"></script>-->
<!-- <script src="{{url_for('static', filename='../src/pruebajs.json')}}"></script>-->
<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>-->

 <!-- Content Row -->
 <div class="row ">

  <!-- MONTO TOTAL DE VENTAS -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-success shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                          MONTO TOTAL DE VENTAS</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">{{dato2}} $</div>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-calendar fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>



<!-- MONTO COBRADO -->
  <div class="col-xl-3 col-md-6 mb-4">
    <div class="card border-left-primary shadow h-100 py-2">
        <div class="card-body">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">MONTO COBRADO
                    </div>
                    <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                            <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{abono}} $</div>
                        </div>
                        <div class="col">
                            <div class="progress progress-sm mr-2">
                              {% if x_abono_final == 0  %}
                                <div class="progress-bar bg-primary" role="progressbar"
                                    style="width: 0%" aria-valuenow="20" aria-valuemin="0"
                                    aria-valuemax="100">{{memoria_abono}} %</div>
                              {% elif x_abono_final == 10  %}
                              <div class="progress-bar bg-primary" role="progressbar"
                                    style="width: 10%" aria-valuenow="20" aria-valuemin="0"
                                    aria-valuemax="100">{{memoria_abono}} %</div>
                              {% elif x_abono_final == 20   %}
                              <div class="progress-bar bg-primary" role="progressbar"
                                    style="width: 20%" aria-valuenow="20" aria-valuemin="0"
                                    aria-valuemax="100">{{memoria_abono}} %</div>
                                    {% elif x_abono_final == 30  %}
                                    <div class="progress-bar bg-primary" role="progressbar"
                                          style="width: 30%" aria-valuenow="20" aria-valuemin="0"
                                          aria-valuemax="100">{{memoria_abono}} %</div>
                                          {% elif x_abono_final == 40  %}
                                          <div class="progress-bar bg-primary" role="progressbar"
                                                style="width: 40%" aria-valuenow="20" aria-valuemin="0"
                                                aria-valuemax="100">{{memoria_abono}} %</div>
                                                {% elif x_abono_final == 50  %}
                                                <div class="progress-bar bg-primary" role="progressbar"
                                                      style="width: 50%" aria-valuenow="20" aria-valuemin="0"
                                                      aria-valuemax="100">{{memoria_abono}} %</div>
                                                      {% elif x_abono_final == 60  %}
                                                      <div class="progress-bar bg-primary" role="progressbar"
                                                            style="width: 60%" aria-valuenow="20" aria-valuemin="0"
                                                            aria-valuemax="100">{{memoria_abono}} %</div>
                                                            {% elif x_abono_final == 70  %}
                                                            <div class="progress-bar bg-primary" role="progressbar"
                                                                  style="width: 70%" aria-valuenow="20" aria-valuemin="0"
                                                                  aria-valuemax="100">{{memoria_abono}} %</div>
                                                                  {% elif x_abono_final == 80  %}
                                                                  <div class="progress-bar bg-primary" role="progressbar"
                                                                        style="width: 80%" aria-valuenow="20" aria-valuemin="0"
                                                                        aria-valuemax="100">{{memoria_abono}} %</div>
                                                                        {% elif x_abono_final == 90  %}
                                                                        <div class="progress-bar bg-primary" role="progressbar"
                                                                              style="width: 90%" aria-valuenow="20" aria-valuemin="0"
                                                                              aria-valuemax="100"> {{memoria_abono}} %</div>
                                                                              {% elif x_abono_final == 95  %}
                                                                              <div class="progress-bar bg-primary" role="progressbar"
                                                                                    style="width: 95%" aria-valuenow="20" aria-valuemin="0"
                                                                                    aria-valuemax="100">{{memoria_abono}} %</div>
                                                                                    {% elif x_abono_final == 100  %}
                                                                              <div class="progress-bar bg-primary" role="progressbar"
                                                                                    style="width: 100%" aria-valuenow="20" aria-valuemin="0"
                                                                                    aria-valuemax="100">{{memoria_abono}} %</div>
                                            {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-auto">
                    <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                </div>
            </div>
        </div>
    </div>
</div>
  <!-- Earnings (Monthly) Card Example 
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-primary shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                          MONTO COBRADO (en dolares)</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">{{abono}} $</div>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>  -->

  <!-- MONTO POR COBRAR -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-danger shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">MONTO POR COBRAR
                      </div>
                      <div class="row no-gutters align-items-center">
                          <div class="col-auto">
                              <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{saldo}} $</div>
                          </div>
                          <div class="col">
                              <div class="progress progress-sm mr-2">
                                {% if x_cobrar_final == 0  %}
                                  <div class="progress-bar bg-danger" role="progressbar"
                                      style="width: 0%" aria-valuenow="20" aria-valuemin="0"
                                      aria-valuemax="100">{{p_x_cobrar}} %</div>
                                {% elif x_cobrar_final == 10  %}
                                <div class="progress-bar bg-danger" role="progressbar"
                                      style="width: 10%" aria-valuenow="20" aria-valuemin="0"
                                      aria-valuemax="100">{{p_x_cobrar}} %</div>
                                {% elif x_cobrar_final == 20   %}
                                <div class="progress-bar bg-danger" role="progressbar"
                                      style="width: 20%" aria-valuenow="20" aria-valuemin="0"
                                      aria-valuemax="100">{{p_x_cobrar}} %</div>
                                      {% elif x_cobrar_final == 30  %}
                                      <div class="progress-bar bg-danger" role="progressbar"
                                            style="width: 30%" aria-valuenow="20" aria-valuemin="0"
                                            aria-valuemax="100">{{p_x_cobrar}} %</div>
                                            {% elif x_cobrar_final == 40  %}
                                            <div class="progress-bar bg-danger" role="progressbar"
                                                  style="width: 40%" aria-valuenow="20" aria-valuemin="0"
                                                  aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                  {% elif x_cobrar_final == 50  %}
                                                  <div class="progress-bar bg-danger" role="progressbar"
                                                        style="width: 50%" aria-valuenow="20" aria-valuemin="0"
                                                        aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                        {% elif x_cobrar_final == 60  %}
                                                        <div class="progress-bar bg-danger" role="progressbar"
                                                              style="width: 60%" aria-valuenow="20" aria-valuemin="0"
                                                              aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                              {% elif x_cobrar_final == 70  %}
                                                              <div class="progress-bar bg-danger" role="progressbar"
                                                                    style="width: 70%" aria-valuenow="20" aria-valuemin="0"
                                                                    aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                                    {% elif x_cobrar_final == 80  %}
                                                                    <div class="progress-bar bg-danger" role="progressbar"
                                                                          style="width: 80%" aria-valuenow="20" aria-valuemin="0"
                                                                          aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                                          {% elif x_cobrar_final == 90  %}
                                                                          <div class="progress-bar bg-danger" role="progressbar"
                                                                                style="width: 90%" aria-valuenow="20" aria-valuemin="0"
                                                                                aria-valuemax="100"> {{p_x_cobrar}} %</div>
                                                                                {% elif x_cobrar_final == 95  %}
                                                                                <div class="progress-bar bg-danger" role="progressbar"
                                                                                      style="width: 95%" aria-valuenow="20" aria-valuemin="0"
                                                                                      aria-valuemax="100">{{p_x_cobrar}} %</div>
                                                                                      {% elif x_cobrar_final == 100  %}
                                                                                <div class="progress-bar bg-danger" role="progressbar"
                                                                                      style="width: 100%" aria-valuenow="20" aria-valuemin="0"
                                                                                      aria-valuemax="100">{{p_x_cobrar}} %</div>
                                              {% endif %}
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>
 <!-- FIN DE MONTO POR COBRAR -->
  <!-- NUMERO DE FACTURAS VENCIDAS -->
  <div class="col-xl-3 col-md-6 mb-4">
      <div class="card border-left-warning shadow h-100 py-2">
          <div class="card-body">
              <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                          Facturas Vencidas</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">{{cantidad_vencidas}} Facturas</div>
                  </div>
                  <div class="col-auto">
                      <i class="fas fa-comments fa-2x text-gray-300"></i>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<div class="row ">
   
  <!-- card de colores 
    <div class="row -md-12 offset-md-0 mt-2" >
          <div class="clearfix col-md-4">
            <div class="row-md-12 ">
              <div class="col-md-3 "> 
                <div class="card text-white verde-gradient" style="width: 18rem;">      
                  <div class="card-body">
                    <center>
                        <h1 class="card-title"> Ventas</h1>
                          <div class="row">
                          
                            <div class="col p-4">
                               <h2 class="card-text">{{dato2}}</h2>
                            </div>
                          </div>
                    </center>      
                  </div>
                </div>
                
              </div>
              
            </div>
            
          </div>
          
        
          <div class="clearfix col-md-4 " style="color:#6b06ee" >
            <div class="row-md-12 ml-4 ">
              <div class="col-md-3 "> 
                <div class="card text-white azul-gradient" style="width: 18rem;" style="height: 2rem;">      
                  <div class="card-body">
                    <center>
                      <h1 class="card-title"> Cobrado</h1>
                        <div class="row">
                          
                          <div class="col p-4">
                            <h2 class="card-text">{{abono}}</h2>
                          </div>
                        </div>
                    </center>
                  </div>
                
                </div>
              
              </div>
            
            </div>
          
          </div>



          <div clas="clearfix col-md-4 ">
            <div class="row-md-12 ">
              <div class="col-md-3 "> 
                <div class="card text-white horizontal-gradient "style="width: 18rem;">      
                  <div class="card-body">
                    <center>
                      <h1 class="card-title"> </i>Por Cobrar</h1>
                          <div class="row">
                            
                            <div class="col p-4">
                              <h2 class="card-text">{{saldo}}</h2>
                            </div>
                          </div>
                    </center> 
                  </div>
                
                </div>
              
              </div>
            </div>
          </div>
      
              

    </div>-->


  
    


  

    <div class="col mt-0 ">
      <div class="col">

               <!-- <center>
                  <form>
                    <table class="table table-striped table-hover table-bordered bg-white table-sm" class="wrapper-table" class="jumbotron">
                      <thead>
                        <td>
                          <center>
                            <h1 class="display-4" style="color:#6b06ee">   VENTAS   </h1>
                          </center> 
                        </td >
                                
                        </tr>
                      </thead>
                            
                            
                      <thead>
                            
                        <tr>
                          <td>
                            <center>
                              <h1 class="display-4" style="color:#ff0037">   Total Venta = {{dato2}}   </h1>
                            </center> 
                         
                      </thead>
                   
                  </form>
                </center> -->
                 <table class="table table-striped table-hover table-bordered bg-white table-sm " class="wrapper-table" class="jumbotron">
                    <thead>
                    
                      <tr class="table-success ">

                        <td style="text-align: center;"><h5 >FACT</h5></td>                        
                        <td  style="text-align: center;" valign="middle"><h5 >CLIENTE</h5></td>  
                        <td  style="text-align: center;" valign="middle"><h5 >DESCRIPCION</h5></td>  
                        <td style="text-align: center;"><h5 > FECHA </h5></td>
                        <td style="text-align: center;"><h5 >D/CRED</h5></td>     
                        <td style="text-align: center;"><h5 >FECH_VENC</h5></td>  
                                  
                        <td style="text-align: center;"><h5 >MONTO</h5></td>
                        <td style="text-align: center;"><h5 >ABONO</h5></td>
                        <td style="text-align: center;"><h5 >DEBE</h5></td>
                       <!-- <td style="text-align: center;">Operacion</td>-->
                      </tr>
                    </thead>
                    
                    {% for table in tabla1 %}
                    <tr>
                        {% if table.9 == "0,00"  %}

                            <td class="pago" style="text-align: center;" >{{table.1}}</font></td>
                            <td class="pago" style="text-align: center;" >{{table.2}}</font></td>
                            <td class="pago" style="text-align: center;" >{{table.7}}</font></td>
                            <td class="pago" style="text-align: center;" >{{table.3}}</font></td>
                            <td class="pago" style="text-align: center;" >{{table.4}}</font></td>
                            <td class="pago" style="text-align: center;" >{{table.5}}</font></td>
                            <td class="pago" style="text-align: right;"  >{{table.6}}</font></td>
                            <td class="pago" style="text-align: right;"  >{{table.8}}</font></td>
                            <td class="pago" style="text-align: right;"  >{{table.9}}</font></td>    
                        {% else %}
                            <td style="text-align: center;">{{table.1}}</td>
                            <td style="text-align: center;">{{table.2}}</td>
                            <td style="text-align: center;">{{table.7}}</td>
                            <td style="text-align: center;">{{table.3}}</td>

                            <td style="text-align: center;">{{table.4}}</td>
                            <td style="text-align: center;">{{table.5}}</td>
                            <td style="text-align: right;">{{table.6}}</td>
                            <td style="text-align: right;">{{table.8}}</td>
                            <td style="text-align: right;">{{table.9}}</td>
                        
                        {% endif %}
                            <div class="row-md-7">    
                       <!-- <a href="/edit/{{table.0}}" class="btn btn-sm btn-secondary">editar</a>-->
                      <!-- <td> </td>-->
                        <td>
                            <center>
                            <a href="/relacion/factura/{{table.1}}"  class="btn btn-sm btn-success ">Abonar</a>
                        </center>
                    </td>
                        <td>
                            <center>
                            <a href="/delete/{{table.0}}" class="btn btn-sm btn-danger btn-delete">borrar</a>
                            </center>
                        </td>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                    

                </table>
               
            </div>
           
    </div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart');

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
      datasets: [{
        label: 'Ventas',
        data: [12, 19, 3, 50, 20, 30],
        borderWidth: 1
      
    },{
      labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
      
        label: 'Gastos',
        data: [2, 9, 3, 50, 10, 15],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
   

{% endblock%}